
 
# ChatPDF Bot
هذا المشروع هو بوت تيليجرام متكامل يتيح للمستخدم رفع ملفات PDF ثم إجراء بحث ذكي وفوري داخل محتوى هذه الملفات باستخدام واجهة Gemini للذكاء الاصطناعي من Google، حيث يقوم البوت برفع الملف والتفاعل مع استفسارات المستخدمين ليقدم لهم معلومات مختصرة ودقيقة بطريقة منسقة وواضحة، مع إدارة متقدمة لحالة الجلسة، تتبع عملية التحميل، معالجة الأخطاء والتأكد من صحة التوكنات، مما يجعل تجربة البحث داخل الملفات سهلة وفعالة مباشرة من خلال تطبيق تيليجرام.

# مميزات المشروع
<div dir="rtl">

- يدعم ملفات pdf سواء المكتوبة أو المصورة  
- يدعم اللغة العربية و معظم اللغات الأجنبية  
- يدعم 1000 صفحة للملف الواحد  

</div>


   # المتطلبات

ستحتاج بداية إلى تثبيت تطبيق Termux على هاتفك، و هو تطبيق يسمح لك باستخدام بيئة لينكس كاملة على هاتفك. يمكنك من خلاله تشغيل أوامر لينكس، تثبيت أدوات مثل Python، تحرير النصوص، وتشغيل سكريبتات بدون الحاجة لصلاحيات الروت.

أما بالنسبة للبوتات على تلغرام، إذا لم يكن لديك استضافة على منصات مثل Heroku أو Google Cloud أو AWS أو Azure، يمكنك تشغيل بوتاتك محلياً عبر Termux على هاتفك بدلاً من الاستضافة السحابية.

<p align="center">
  <a href="https://f-droid.org/ar/packages/com.termux/">
    <img src="https://i.imgur.com/V2Xif6J.png" alt="get it on F-Droid" width="120" style="display: inline-block; margin-right: 10px;">
  </a>
  <a href="https://play.google.com/store/apps/details?id=com.termux">
    <img src="https://i.imgur.com/nd0fboR.png" alt="Termux" width="120" style="display: inline-block; margin-left: 10px;">
  </a>
</p>



----

# تثبيت المكتبات
> [!Tip]
بعد تحميل و تثبيت التطبيق على جهازك تدخل إليه و تقوم بتثبيت المكتبات الضرورية التالية:

1. تثبيت مكتبة بايثون:
```shell
pkg install python
```


2. تثبيت مكتبة تلغرام و requests: 
```shell
pip install python-telegram-bot requests
```

3. إعطاء صلاحية التخزين للقراءة و الكتابة
```shell
termux-setup-storage
```
---

# إنشاء ملف
> [!Important]
بعد الإنتهاء من تثبيت المكتبات، تنشئ ملف جديد بامتداد py مثل `pdf.py`

1. و ذلك عبر كتابة الأمر التالي:
```shell
nano filename.py
```
> يمكنك تغيير الإسم filename إلى أي اسم آخر تريده بشرط أن ينتهي بـ `.py`
---
# تحميل السكربت
> [!Warning]
بعد كتابة الأمر `nano filename.py` سيتم فتح الملف عبر محرر النصوص للتعديل عليه


2. ستحتاج إلى نسخ سكربت بايثون تعثر عليه في خيار Relaeses أسفل الصفحة أو
[ اضغط هنا للإطلاع على احدث إصدار مباشرة](https://github.com/bidjadraft/ChatPDF/releases/tag/chatpdf)
---
3. قم بتحميل أحدث إصدار من ملف [ChatPDF.txt](https://github.com/bidjadraft/ChatPDF/releases/download/chatpdf/ChatPDF.txt) ثم افتحه على أي برنامج ، انسخ كل محتواه و الصقه في محرر النصوص على ترمكس
---
4. بعدما تلصق السكربت في محرر النصوص على ترمكس تقوم بحفظ الملف `filename.py` و ذلك عبر الضغط على:
- `Cntrl` + `X` + `Y` + `Enter`

# تشغيل الكود

> [!Tip]
بعد حفظ ملف `filename.py`تقوم بتشغيله

1. و ذلك عبر كتابة الأمر التالي:
```shell
python filename.py
```
> في مكان `filename.py` تغير اسمه إلى إسم الملف الذي أنشأته

# إدخال البيانات

> [!Tip]
بعد تشغيل السكربت سيطلب منك إدخال بعض البيانات الضرورية أهمها:

1. BOT TOKEN
- و هو رمز بوت تلغرام الخاص بك، إذا لم تكن تملك بوت أو لا تعرف كيفية الحصول على التوكن [اضغط هنا](https://i.imgur.com/EVUkDWY_lq.mp4) لمشاهدة المقطع
---
2. GEMINI API
- بعد التحقق من صحة التوكن للبوت سيطلب منك إدخال مفتاح Gemini، للحصول عليه [اضغط هنا](https://www.youtube.com/watch?v=SMTLu2AT5tQ) لمشاهدة المقطع

1. عبر [AiStudio](https://aistudio.google.com/app/apikey) (سهلة)
2. عبر  [GoogleCloudConsole](https://console.cloud.google.com) (صعبة)
---

> [!Warning]
هذه البيانات يتم تخزينها في ملف يدعى `tokens.txt` و ذلك لتجنب تكرار كتابتها عند تشغيل السكربت في كل مرة

# كيف يعمل البوت؟
1. ترسل إليه الأمر /start
2. سيطلب منك إرسال ملف pdf
3. ترسل إليه الملف أو تحوله من قناة
4. سيقوم بتحميل الملف الى جهازك ثم يرفعه الى Gemini عبر Api
5. بعد نجاح العملية سيطلب منك كتابة الموضوع الذي تبحث عنه
6. بعد كتابة الموضوع تبدأ عملية البحث داخل الملف و قد تطول العملية من 1 إلى 2 دقائق
7. العملية قد تستغرق أقل من دقيقة في وقت الذروة، و قد تطول حتى 4 أو 5 دقائق في حال كان هناك ضغط على الخدمة، و قد لا تنجح او يحدث خطأ بسبب الضغط الزائد
8. إذا توقف الكود و أعدت تشغيله عليك إرسال الأمر /start
9. المحادثة مع البوت ستستمر على نفس الملف، فإذا أردت محادثة جديدة عليك إرسال ملف آخر
10.  على إذا أردت إيقاف الكود أو البوت اضغط `Cntrl` + `C`
---

إن أعجبك المشروع و استفدت منه يمكنك  دعمي ماديا في حال أحببت ذلك

[![Donate](https://i.imgur.com/LjjhKAO.png)](https://ko-fi.com/bidjadraft)
